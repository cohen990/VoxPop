@using Site.Models
@using Site.Services
@model BlogModel
@{
    ViewBag.Title = "hoverTest";
}

@section MetaTags
{
    @Html.Partial("_DefaultMetaTags")
}





<style>
    .doughnut-legend {
        margin: 100px;
        width: 20%;
        list-style: inherit;
        position: inherit;
        right: inherit;
        top: inherit;
    }
</style>
<script>
    window.onload = function () {

        document.getElementById("aj-legend").addEventListener("mouseover", displayTooltip);

        document.getElementById("aj-legend").addEventListener("mouseout", clearTooltip);

        function displayTooltip() {
            var activeSegment = moduleDoughnut.segments[3];
            moduleDoughnut.showTooltip([activeSegment]);
        };

        function clearTooltip() {
            moduleDoughnut.draw();
        };


        // Colour variables

        var red = "#bf616a",
            blue = "#5B90BF",
            orange = "#d08770",
            yellow = "#ebcb8b",
            green = "#a3be8c",
            teal = "#96b5b4",
            pale_blue = "#8fa1b3",
            purple = "#b48ead",
            brown = "#ab7967";

        colours = {
            "Core": blue,
            "Line": orange,
            "Bar": teal,
            "Polar Area": purple,
            "Radar": brown,
            "Doughnut": green
        };


        var moduleData = [
            {
                value: 7.57,
                color: colours["Core"],
                //					highlight: Colour(colours["Core"], 10),
                highlight: blue,
                label: "Core"
            },

            {
                value: 1.63,
                color: colours["Bar"],
                highlight: teal,
                label: "Bar"
            },

            {
                value: 1.09,
                color: colours["Doughnut"],
                highlight: green,
                label: "Doughnut"
            },

            {
                value: 1.71,
                color: colours["Radar"],
                highlight: brown,
                label: "Radar"
            },

            {
                value: 1.64,
                color: colours["Line"],
                highlight: orange,
                label: "Line"
            },

            {
                value: 1.37,
                color: colours["Polar Area"],
                highlight: purple,
                label: "Polar Area"
            }

        ];

        var canvas = document.getElementById("doughnut");

        var moduleDoughnut = new Chart(canvas.getContext('2d')).Doughnut(moduleData,
            {
                tooltipTemplate: "<%if (label){%><%=label%>: <%}%><%= value %>kb",
                animation: false
            });
        //
        var legendHolder = document.getElementById('legend');

        legendHolder.innerHTML = moduleDoughnut.generateLegend();

        helpers = Chart.helpers;
        // Include a html legend template after the module doughnut itself
        helpers.each(legendHolder.firstChild.childNodes, function (legendNode, index) {
            helpers.addEvent(legendNode, 'mouseover', function () {

                var activeSegment = moduleDoughnut.segments[index];
                moduleDoughnut.showTooltip([activeSegment]);

            });
        });

        helpers.addEvent(legendHolder.firstChild, 'mouseout', function () {
            moduleDoughnut.draw();
        });
        canvas.parentNode.appendChild(legendHolder.firstChild);
    }

</script>
<canvas width="400" height="250" id="doughnut"></canvas>
<div id="legend"></div>

<div id="aj-legend">
    AJ-Core
</div>

<script>

</script>

