@model Site.Models.BlogModel
@{
    ViewBag.Title = "Create";
}

<h1 class="page-headings">Create a new Story here...</h1>
<div class="create-intro">
    <p>You can do whatever you want with a VoxPop Story, be it an issue personal to you, a campaign in your community or even a global concern - write about it!</p>
    <p>Create short question to raise awareness and get feedback like a petition, or a long intricate article espousing something that's important to you and try to persuade people of your point - it's completely up to you.</p>
    <p>Add a Vote to your Story - you can choose appropriate answers to your Story and all readers will be able to click to give an instant response.</p>
</div>
<div class="create-form-box">

    @using (Html.BeginForm("Create", "Home", FormMethod.Post, new { @name = "blogForm", enctype = "multipart/form-data" }))
    {
        <div class="create-form-headings">
            @Html.LabelFor(x => x.Title)
        </div>
        <div>
            <div>
                @Html.TextBoxFor(x => x.Title, new { placeholder = "  What's your story about?" })
            </div>
            @Html.ValidationMessageFor(x => x.Title)
            <p class="create-form-descriptions">Think of this either like a newspaper headline or the question at the top of a poll - or whatever you like!</p>
        </div>

        <fieldset class="create-form-voting-box">
            <div id="pollOptions">
                <label for="pollOptions" class="create-form-headings">Voting Options</label>
                <input class="create-form-pollOptions-boxes" name="pollOptions" type="text" placeholder=" eg.  'I agree' " />
                <input class="create-form-pollOptions-boxes" name="pollOptions" type="text" placeholder=" e.g.  'I disagree' " />
                <span onclick="AddOption()" class="btn">Add more options...</span>
            </div>
        </fieldset>
        <p class="create-form-descriptions">Give your Story a Vote - What are the possible answers to your Story? What responses do you think your readers would like to give? You can have as many Voting Options as you like but you must have at least two.</p>

        <div class="create-form-uploadImage-box">
            <div class="create-form-headings">
                @Html.LabelFor(x => x.ImageUri)
            </div>
            <div class="create-form-uploadPreview-box">
                <label for="uploadImage">
                    <img id="uploadPreview" class="create-form-uploadPreview" />
                </label>
                <script type="text/javascript">
                    function PreviewImage() {
                        var oFReader = new FileReader();
                        oFReader.readAsDataURL(document.getElementById("uploadImage").files[0]);

                        oFReader.onload = function (oFREvent) {
                            document.getElementById("uploadPreview").src = oFREvent.target.result;
                        };
                    };
                </script>
                <input id="uploadImage" type="file" name="image" onchange="PreviewImage();" accept="image/*" />
            </div>
        </div>
        <div class="create-form-ImageCaption-box">
            <div class="create-form-headings">
                @Html.LabelFor(x => x.ImageCaption)
            </div>
            <div>
                @Html.TextBoxFor(x => x.ImageCaption, new { placeholder = " What is your image an image of?" })
                @Html.ValidationMessageFor(x => x.ImageCaption)
            </div>
        </div>
        <p class="create-form-descriptions">Add an image that represents your Story. You can give your image a description in Image Caption or even use this space as a subtitle for your Story - again, do whatever you feel!</p>

        <div class="create-form-headings">
            @Html.LabelFor(x => x.Content)
        </div>
        <div>
            @Html.EditorFor(x => x.Content)
            @Html.ValidationMessageFor(x => x.Content)
        </div>
        <input type="submit" />
    }

<script>
    var AddOption = function () {
        var newOption = document.createElement("input");
        newOption.setAttribute("class", "create-form-pollOption-boxes");
        newOption.setAttribute("name", "pollOptions");
        newOption.setAttribute("type", "text");
        document.getElementById("pollOptions").insertAdjacentElement("beforeend", newOption);
    }
</script>

</div>

<script src="~/Scripts/nicEdit-latest.js" type="text/javascript"></script>
<script type="text/javascript">bkLib.onDomLoaded(nicEditors.allTextAreas);</script>


